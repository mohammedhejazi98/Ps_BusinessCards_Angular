<div *ngIf="!disabled">

  <div class="custom-dropzone" ngx-dropzone
    [accept]="'image/*,text/xml,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
    [disabled]="disabled" [multiple]="false" (change)="onSelect($event)">
    <ngx-dropzone-label>
      <h5>Drag and drop file or press to upload</h5>
      <h5>(png,xml,xls)</h5>
      <svg xmlns="http://www.w3.org/2000/svg" width="63" height="64" viewBox="0 0 63 64">
        <!-- SVG content here -->
      </svg>
    </ngx-dropzone-label>
    <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f" multiple="false"
      [removable]="true" (removed)="onRemove(f)">
      <ngx-dropzone-label>{{ f.name }} </ngx-dropzone-label>
    </ngx-dropzone-image-preview>

  </div>
  <!-- Import button -->
</div>

<div *ngIf="disabled" class="file-upload-container">

  <!-- Excel Data Table -->
  <table *ngIf="fileType === 'excel' && excelData.length > 0">
    <thead>
      <tr>
        <th *ngFor="let key of getKeys(excelData[0])">{{ key }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of excelData">
        <td *ngFor="let key of getKeys(row)" [attr.data-label]="key">{{ row[key] }}</td>
      </tr>
    </tbody>
  </table>

  <!-- XML Data Table -->
  <table *ngIf="fileType === 'xml' && xmlData.length > 0">
    <thead>
      <tr>
        <th *ngFor="let key of getKeys(xmlData[0])">{{ key }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of xmlData">
        <td *ngFor="let key of getKeys(row)" [attr.data-label]="key">{{ row[key] }}</td>
      </tr>
    </tbody>
  </table>

  <!-- QR Code Data Table -->
  <table *ngIf="fileType === 'qr' && qrCodeData">
    <thead>
      <tr>
        <th>QR Code Data</th>
      </tr>
    </thead>
    <tbody>
      <tr>
      <tr *ngFor="let field of getKeys(qrCodeData)">
        <td>{{ field }}</td>
        <td>{{ qrCodeData[field] }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div style="display: flex; justify-content: center; gap: 10px; margin: 10px;">
  <button *ngIf="disabled" mat-raised-button color="warn" (click)="import()">Import</button>
  <button *ngIf="disabled" mat-raised-button color="warn" (click)="remove()">Delete</button>
</div>